Tests for WBE Chapter 2 Exercise `Mouse Wheel`
==============================================

Testing boilerplate:

    >>> import test
    >>> _ = test.socket.patch().start()
    >>> _ = test.ssl.patch().start()
    >>> import browser

Testing `scrollup`
------------------

First setup the environment used in the base tests for testing `scrolldown`

Let's override text spacing and line width to make it easy to do math
when testing:

    >>> browser.WIDTH = 1
    >>> browser.HSTEP = 1
    >>> browser.VSTEP = 2

Let's install a mock canvas that prints out the x and y coordinates, plus
the text drawn:

    >>> test.patch_canvas()
    >>> this_browser = browser.Browser()

Let's mock a URL to load:

    >>> url = 'http://test.test/example1'
    >>> test.socket.respond(url=url, 
    ...   response=("HTTP/1.0 200 OK\r\n" +
    ...             "Header1: Value1\r\n"
    ...             "\r\n" +
    ...             "0123456789").encode())

Loading that URL results in a display list:

    >>> this_browser = browser.Browser()
    >>> this_browser.load(url)
    create_text: x=1 y=2 text=0...
    create_text: x=1 y=4 text=1...
    create_text: x=1 y=6 text=2...
    create_text: x=1 y=8 text=3...
    create_text: x=1 y=10 text=4...
    create_text: x=1 y=12 text=5...
    create_text: x=1 y=14 text=6...
    create_text: x=1 y=16 text=7...
    create_text: x=1 y=18 text=8...
    create_text: x=1 y=20 text=9...

SCROLL_STEP configures how much to scroll by each time. Let's set it to
a convenient value:

    >>> browser.SCROLL_STEP = 5

After scrolling down the 0 should be off screen.

    >>> this_browser.scrolldown({})
    create_text: x=1 y=-1 text=1...
    create_text: x=1 y=1 text=2...
    create_text: x=1 y=3 text=3...
    create_text: x=1 y=5 text=4...
    create_text: x=1 y=7 text=5...
    create_text: x=1 y=9 text=6...
    create_text: x=1 y=11 text=7...
    create_text: x=1 y=13 text=8...
    create_text: x=1 y=15 text=9...

Now we can finally scroll up! 
This should show the 0 again.

    >>> this_browser.scrollup({})
    create_text: x=1 y=2 text=0...
    create_text: x=1 y=4 text=1...
    create_text: x=1 y=6 text=2...
    create_text: x=1 y=8 text=3...
    create_text: x=1 y=10 text=4...
    create_text: x=1 y=12 text=5...
    create_text: x=1 y=14 text=6...
    create_text: x=1 y=16 text=7...
    create_text: x=1 y=18 text=8...
    create_text: x=1 y=20 text=9...

Scrolling up again should not change anything, since we are at the top of the 
content.

    >>> this_browser.scrollup({})
    create_text: x=1 y=2 text=0...
    create_text: x=1 y=4 text=1...
    create_text: x=1 y=6 text=2...
    create_text: x=1 y=8 text=3...
    create_text: x=1 y=10 text=4...
    create_text: x=1 y=12 text=5...
    create_text: x=1 y=14 text=6...
    create_text: x=1 y=16 text=7...
    create_text: x=1 y=18 text=8...
    create_text: x=1 y=20 text=9...
    
    

Testing `scrollwheel`
---------------------

To allow testing of your scrollwheel functionality make sure to name the 
  method which handles the event `scrollwheel`.
The \<MouseWheel\> event behaves differently for each platform, as described (here)[https://wiki.tcl-lang.org/page/mousewheel]:
* Windows: A mousewheel click is translated by a delta of 120. Take care, that high resolution mousepads may emit smaller values which may accumulate.
* MacOS: A mousewheel click is translated by a delta of 1.
* X11: The mousewheel triggers button 4/5 (vertical) and Shift-4/Shift-5 (horizontal)

This causes some issues with compatability, since Windows and MacOs can both
indicate the amount to scroll using the delta value, but X11 cannot.

TODO: Figure out this quagmire
